<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-12">
        <h4>
            <ol class="breadcrumb">
                <li>
                    <a routerLink="starterview">Inicio</a>
                </li>
                <li>
                    <a>Auditoría</a>
                </li>
                <li class="active">
                    <strong>Plan de Auditoría</strong>
                </li>
            </ol>
        </h4>
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight div-principal">
    <div class="row m-b-sm bt-div-superior">
        <div class="col-lg-1" *ngIf="mostrarB">
            <a [routerLink]="['registrar']" class="btn btn-primary btn-principales"><i class="fa fa-plus"></i> Nuevo</a>
        </div>
        <div class="col-lg-4">
            <div class="input-group">
                <select *ngIf="parametroBusqueda == 'tipo' || parametroBusqueda == 'avanzada'"
                    class="form-control tx-cajas" name="valorTipo" [(ngModel)]="valorTipo">
                    <option value="" selected>Seleccionar</option>
                    <option *ngFor="let item of listaTipos" [value]="item.v_campcons1">{{ item.v_valcons }}</option>
                </select>
                <select *ngIf="parametroBusqueda == 'estado'" class="form-control tx-cajas" name="valorEstado"
                    [(ngModel)]="valorEstado">
                    <option value="" selected>Seleccionar</option>
                    <option *ngFor="let item of listaEstados" [value]="item.v_campcons1">{{ item.v_valcons }}</option>
                </select>

                <span class="input-group-btn" dropdown>
                    <button type="button" class="btn btn-info" (click)="OnBuscar()"><i
                            class="fa fa-search"></i></button>
                    <button dropdownToggle type="button" class="btn btn-info dropdown-toggle dropdown-toggle-split "><i
                            class="fa fa-caret-down"></i></button>
                    <ul *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-split">
                        <li role="menuitem" [class.active]="parametroBusqueda == 'tipo'"><a
                                (click)="activarOpcion(1)">Tipo</a></li>
                        <li role="menuitem" [class.active]="parametroBusqueda == 'estado'"><a
                                (click)="activarOpcion(3)">Estado</a></li>
                        <li class="divider dropdown-divider"></li>
                        <li role="menuitem"><a (click)="abrirBusqueda()">Busqueda Avanzada</a></li>
                    </ul>
                </span>
            </div>
        </div>
        <!--
        <div class="col-lg-4">
                <a (click)="OnHabilitarAL()" class="btn btn-primary btn-principales" style="width: 47px;"> AL </a>
                <a (click)="OnHabilitarAI()" class="btn btn-primary btn-principales" style="width: 47px;"> AI </a>
                <a (click)="OnHabilitarCO()" class="btn btn-primary btn-principales" style="width: 47px;"> CO </a>
                <a (click)="OnHabilitarRAD()" class="btn btn-primary btn-principales" style="width: 47px;"> RAD </a>
            </div>
        -->
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div *ngIf="mostrarAlerta">
                <alert type="info"><span [innerHtml]="mensajeAlerta"></span></alert>
            </div>
            <div class="ibox-content"
                style="height: 480px;padding-top: 5px;padding-left: 5px;padding-right: 5px;padding-bottom: 5px;">
                <div class="table-responsive" style=" height: 344px;"> 
                    <table class="table table-bordered table-stripped table-hover issue-tracker">
                        <thead>
                            <tr>
                                <th class="text-center" data-col="descripcion">Nombre Auditoría</th>
                                <th class="text-center" data-col="mes">Mes</th>
                                <th class="text-center" data-col="estado">Estado</th>
                                <th class="text-center" data-col="fechad">Fecha Inicio Plan</th>
                                <th class="text-center" data-col="fechah">Fecha Fin Plan</th>
                                <th class="text-center" data-col="accion">Acción</th>
                            </tr>
                        </thead>
                        <tbody style="height: 311px;" >
                            <tr>
                                <td class="text-center" data-col="descripcion">Auditoria Interna de la Gerencia de
                                    Finanzas I</td>
                                <td class="text-center" data-col="mes">Enero</td>
                                <td class="text-center" data-col="estado"><span class="btn btn-secondary">Emisión</span></td>
                                <td class="text-center" data-col="fechad">01/09/2019</td>
                                <td class="text-center" data-col="fechah">30/09/2019</td>
                                <td class="text-center" data-col="accion">
                                    <button title="Actualizar" class="btn btn-success btn-sm m-r"
                                        [routerLink]="['registrar']"><i class="fa fa-edit"></i>
                                    </button>
                                    <button title="Plan de Auditoria"
                                    class="btn btn-primary btn-sm"
                                    ><i class="fa fa-file-o"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" data-col="descripcion">Auditoria Interna de la Gerencia de
                                    Finanzas II</td>
                                <td class="text-center" data-col="mes">Marzo</td>
                                <td class="text-center" data-col="estado"><span class="btn btn-secondary">Emisión</span></td>
                                <td class="text-center" data-col="fechad">01/09/2019</td>
                                <td class="text-center" data-col="fechah">30/09/2019</td>
                                <td class="text-center" data-col="accion">
                                    <button title="Actualizar" class="btn btn-success btn-sm m-r"
                                        [routerLink]="['registrar']"><i class="fa fa-edit"></i>
                                    </button>
                                    <button title="Plan de Auditoria"
                                        class="btn btn-primary btn-sm"
                                        ><i class="fa fa-file-o"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" data-col="descripcion">Auditoria Interna de la Gerencia de
                                    Finanzas III</td>
                                <td class="text-center" data-col="mes">Junio</td>
                                <td class="text-center" data-col="estado"><span class="btn btn-info">En Revisión</span></td>
                                <td class="text-center" data-col="fechad">01/09/2019</td>
                                <td class="text-center" data-col="fechah">30/09/2019</td>
                                <td class="text-center" data-col="accion">
                                    <button title="Actualizar" class="btn btn-success btn-sm m-r"
                                        [routerLink]="['registrar']"><i class="fa fa-edit"></i>
                                    </button>
                                    <button title="Plan de Auditoria"
                                        class="btn btn-primary btn-sm"
                                        ><i class="fa fa-file-o"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" data-col="descripcion">Auditoria Interna de la Gerencia de
                                    Finanzas IV</td>
                                <td class="text-center" data-col="mes">julio</td>
                                <td class="text-center" data-col="estado"><span class="btn btn-primary">Aprobado</span></td>
                                <td class="text-center" data-col="fechad">01/09/2019</td>
                                <td class="text-center" data-col="fechah">30/09/2019</td>
                                <td class="text-center" data-col="accion">
                                    <button title="Actualizar" class="btn btn-success btn-sm m-r"
                                        [routerLink]="['registrar']"><i class="fa fa-edit"></i></button>
                                    <button title="Plan de Auditoria"
                                        class="btn btn-primary btn-sm"
                                        ><i class="fa fa-file-o"></i>
                                    </button>
                                </td>
                            </tr>

                            
                        </tbody>
                    </table>
                </div>
                <br/>
                <div class="row">
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <pagination [(ngModel)]="paginacion.pagina" (pageChanged)="OnPageChanged($event)"
                            [totalItems]="paginacion.totalRegistros" [itemsPerPage]="paginacion.registros"
                            [boundaryLinks]="true" [maxSize]="5" previousText="&lsaquo;" nextText="&rsaquo;"
                            firstText="&laquo;" lastText="&raquo;"></pagination>
                    </div>
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="text-center m-a-sm">
                            <pagination-info [totalItems]="paginacion.totalRegistros"
                                [itemsPerPage]="paginacion.registros" [page]="paginacion.pagina"></pagination-info>
                        </div>
                    </div>
                    <div class="col-md-4 col-sm-6 col-xs-12">
                        <div class="text-right m-a-sm texto-pie-pag">
                            <pagination-set (optionChanged)="OnPageOptionChanged($event)"></pagination-set>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>