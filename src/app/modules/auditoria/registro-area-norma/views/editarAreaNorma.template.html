<div class="row wrapper border-bottom white-bg page-heading" style="padding-bottom: 5px;">
    <div class="col-lg-12" style="margin-top: 8px">
        <h4>Inicio / Auditoría / Área y Norma /
            <strong>Detalle de Área y Norma</strong>
        </h4>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight div-principal">
    <div class="row m-b-md bt-div-superior">
        <div class="col-lg-12">
            <a class="btn btn-primary m-r bt-superior">
                <i class="fa fa-check"></i> Guardar</a>
            <a class="btn btn-default btn-colores m-r bt-superior" (click)="OnRegresar()">
                <i class="fa fa-arrow-left"></i> Regresar</a>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox-content" style="height: 467px;">
                <div class="form-group">
                    <div class="ibox-content" style="height: 80px; margin-left:20px; margin-right:20px;">
                        <div class="row">
                            <label class="col-sm-2 control-label titulos-texto"
                                style="padding-left: 0px;width: 105px;padding-top: 4px;">Tipo de Área:</label>
                            <fieldset class="col-sm-4">
                                <label class="titulos-texto" style="padding-right: 20px;"><input type="radio"
                                        name="tipoarea" value="gerencia" [checked]="true" (change)="valorRadio=1;">
                                    Gerencia / Equipo </label>
                                <label class="titulos-texto" style="padding-right: 20px;"><input type="radio"
                                        name="tipoarea" value="comite" (change)="valorRadio=2;"> Comité </label>
                            </fieldset>
                        </div>
                        <div class="row" *ngIf="valorRadio==1">
                            <label class="col-sm-1"
                                style="padding-left: 8px; padding-top: 5px;width: 80px;padding-right: 15px;">Gerencia:</label>
                            <div class="col-sm-4">
                                <ng-select [items]="lstGerencias" bindLabel="v_nom_area" [(ngModel)]="modeloGerencia"
                                    (change)="onSelectGerencia(modeloGerencia)" [clearable]="false" [searchable]="false"
                                    class="custom">
                                </ng-select>
                            </div>
                        </div>
                        <div class="row" *ngIf="valorRadio==2">
                            <label class="col-sm-1"
                                style="padding-left: 8px; padding-top: 5px;width: 80px;padding-right: 15px;">Comité:</label>
                            <div class="col-sm-4">
                                <ng-select [items]="lstComite" bindLabel="v_nom_area" [(ngModel)]="modeloComite"
                                    (change)="onSelectComite(modeloComite)" [clearable]="false" [searchable]="false"
                                    class="custom">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label class="col-sm control-label"
                            style="padding-top: 5px;padding-right: 75px;padding-left: 31px;">Detalle de Área por
                            Norma :</label>
                    </div>
                </div>

                <form class="form-horizontal">
                    <div class="form-group">
                        <div class="col-lg-12">
                            <div class="ibox-content"
                                style="padding-top: 5px; padding-right: 5px; padding-bottom: 5px;padding-left: 5px;height: 312px;">
                                <div class="table-responsive" *ngIf="valorRadio==1">
                                    <table
                                        class="table table-bordered table-stripped table-hover issue-tracker table-fixed">
                                        <thead>
                                            <tr>
                                                <th class="text-center" data-col="codigo">Código</th>
                                                <th class="text-center" data-col="gerencia">Gerencia / Equipo
                                                </th>
                                                <th class="text-center" data-col="norma">Normas</th>
                                                <th class="text-center" data-col="accion">Acción</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let item of lstAreaNormas; let i = index">
                                                <td class="text-left" data-col="area">{{item.areaAuditoria.n_cod_area}}
                                                </td>
                                                <td class="text-left" data-col="responsable">
                                                    {{item.areaAuditoria.v_nom_area}}</td>
                                                <td class="text-center" data-col="tipo">
                                            <tr *ngFor="let item2 of item.normas; let i = index">
                                                <span
                                                    style="display: inline!important;">{{item2.v_nom_norma}}{{i === item2.length - 1 ? ' ' : ' / '}}</span>
                                            </tr>
                                            </td>
                                            <td class="text-center" data-col="accion">
                                                <button title="Agregar Norma" class="btn btn-success btn-sm m-r"
                                                    (click)="busquedaNormas()">
                                                    <i class="fa fa-plus"></i>
                                                </button>
                                            </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="table-responsive" *ngIf="valorRadio==2">
                                    <table class="table table-bordered table-stripped table-hover issue-tracker">
                                        <thead>
                                            <tr>
                                                <th class="text-center" data-col="codigo">Código</th>
                                                <th class="text-center" data-col="comite">Comité</th>
                                                <th class="text-center" data-col="norma">Normas</th>
                                                <th class="text-center" data-col="accion">Acción</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="text-center" data-col="codigo">120
                                                </td>
                                                <td class="text-center" data-col="comite">Comité sur</td>
                                                <td class="text-center" data-col="norma">ISO 9001 / ISO 14001 /
                                                    OHSAS 18001</td>
                                                <td class="text-center" data-col="accion">
                                                    <button title="Agregar Norma" class="btn btn-success btn-sm m-r"
                                                        (click)="BusquedaAuditores()">
                                                        <i class="fa fa-plus"></i>
                                                    </button>
                                                    <button title="Eliminar" class="btn btn-danger btn-sm m-r"
                                                        [swal]="{ title: '¿Está seguro que desea eliminar el registro?', type: 'question', showCancelButton: true, confirmButtonText: 'Sí, eliminar', cancelButtonText: 'No gracias' }">
                                                        <i class="fa fa-minus"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center" data-col="codigo">121
                                                </td>
                                                <td class="text-center" data-col="comite">Comité Norte</td>
                                                <td class="text-center" data-col="norma">ISO 9001 / ISO 14001 /
                                                    OHSAS
                                                    18001</td>
                                                <td class="text-center" data-col="accion">
                                                    <button title="Agregar Norma" class="btn btn-success btn-sm m-r"
                                                        (click)="BusquedaAuditores()">
                                                        <i class="fa fa-plus"></i>
                                                    </button>
                                                    <button title="Eliminar" class="btn btn-danger btn-sm m-r"
                                                        [swal]="{ title: '¿Está seguro que desea eliminar el registro?', type: 'question', showCancelButton: true, confirmButtonText: 'Sí, eliminar', cancelButtonText: 'No gracias' }">
                                                        <i class="fa fa-minus"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center" data-col="codigo">122
                                                </td>
                                                <td class="text-center" data-col="comite">Comité Este</td>
                                                <td class="text-center" data-col="norma">ISO 9001 / ISO 14001 /
                                                    OHSAS
                                                    18001 / ISO 9001 / ISO 14001 / OHSAS</td>
                                                <td class="text-center" data-col="accion">
                                                    <button title="Agregar Norma" class="btn btn-success btn-sm m-r"
                                                        (click)="BusquedaAuditores()">
                                                        <i class="fa fa-plus"></i>
                                                    </button>
                                                    <button title="Eliminar" class="btn btn-danger btn-sm m-r"
                                                        [swal]="{ title: '¿Está seguro que desea eliminar el registro?', type: 'question', showCancelButton: true, confirmButtonText: 'Sí, eliminar', cancelButtonText: 'No gracias' }">
                                                        <i class="fa fa-minus"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center" data-col="codigo">123
                                                </td>
                                                <td class="text-center" data-col="comite">Comité Oeste
                                                </td>
                                                <td class="text-center" data-col="norma">ISO 9001 / ISO 14001 /
                                                    OHSAS
                                                    18001</td>
                                                <td class="text-center" data-col="accion">
                                                    <button title="Agregar Norma" class="btn btn-success btn-sm m-r"
                                                        (click)="BusquedaAuditores()">
                                                        <i class="fa fa-plus"></i>
                                                    </button>
                                                    <button title="Eliminar" class="btn btn-danger btn-sm m-r"
                                                        [swal]="{ title: '¿Está seguro que desea eliminar el registro?', type: 'question', showCancelButton: true, confirmButtonText: 'Sí, eliminar', cancelButtonText: 'No gracias' }">
                                                        <i class="fa fa-minus"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>